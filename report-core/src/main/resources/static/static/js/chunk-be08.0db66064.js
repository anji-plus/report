(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-be08"],{W6l8:function(e,t,r){"use strict";r.d(t,"g",function(){return o}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i}),r.d(t,"d",function(){return c}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return d});var n=r("t3Un");function o(e){return Object(n.a)({url:"reportShare/pageList",method:"GET",params:e})}function a(e){return Object(n.a)({url:"reportDashboard/share",method:"post",data:e})}function s(e){return Object(n.a)({url:"reportExcel/share",method:"post",data:e})}function i(e){return Object(n.a)({url:"reportShare/shareDelay",method:"post",data:e})}function c(e){return Object(n.a)({url:"reportShare/delete/batch",method:"post",data:e})}function u(e){return Object(n.a)({url:"reportShare/"+e.id,method:"get",params:{accessKey:e.accessKey}})}function d(e){return Object(n.a)({url:"reportShare/detailByCode",method:"get",params:{shareCode:e}})}},unqE:function(e,t,r){"use strict";r.r(t);var n=r("14Xm"),o=r.n(n),a=r("D3Ub"),s=r.n(a),i=r("W6l8"),c=r("X4fA"),u={name:"Excel",components:{},data:function(){return{password:"",sharePassword:"",dialogVisible:!1,reportCode:"",shareToken:""}},created:function(){this.handleOpen()},methods:{handleOpen:function(){var e=this;return s()(o.a.mark(function t(){var r,n,a,s,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=window.location.href,n=r.substring(r.lastIndexOf("/")+1),t.next=4,Object(i.f)(n);case 4:if(a=t.sent,s=a.code,c=a.data,"200"==s){t.next=9;break}return t.abrupt("return");case 9:e.reportCode=c.reportCode,e.sharePassword=c.sharePassword,e.shareToken=c.shareToken,e.sharePassword?e.dialogVisible=!0:e.pushEl();case 13:case"end":return t.stop()}},t,e)}))()},checkPassword:function(){r("gjeX")(this.password)==this.sharePassword?this.pushEl():this.$message.error("分享码输入不正确")},pushEl:function(){Object(c.h)(this.shareToken),this.$router.push({path:"/excelreport/viewer",query:{reportCode:this.reportCode}})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})}}},d=r("KHd+"),l=Object(d.a)(u,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:"请输入分享码",visible:e.dialogVisible,width:"30%","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-input",{attrs:{placeholder:"请输入分享码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.checkPassword()}}},[e._v("确 定")])],1)],1)],1)},[],!1,null,null,null);l.options.__file="shareLink.vue";t.default=l.exports}}]);